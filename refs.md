# Refs

- Атрибут `ref` позволяет получать ссылку на DOM-узел или React-компонент
- Все `refs` становятся доступны в методах компонента после `render()` и перед
  `componentDidMount()`

## Когда использовать?

Только если есть необходимость:

- Фокус элемента при событии, выделение текста
- Контроль проигрывания медиаконтента
- Интеграция с DOM-библиотеками
- Доступ к DOM-свойствами, значения которых невозможно получить по другому,
  размеры элемента, значение скрола и т.п.

## API версии React 16.3+

- Refs создаются методом `React.createRef()` и привязаны к
  React-элементам с помощью атрибута `ref`
- Refs обычно присваиваются свойству экземпляра, таким образом на них можно
  ссылаться по всему компоненту

```js
this.elementRef = React.createRef();
```

- Когда ref передается элементу в `render()`, ссылка на узел становится
  доступной по атрибуту `ref`
- React присваивает свойству `current` ссылку на DOM-элемент, когда компонент
  монтируется, и `null` при его размонтировании
- Обновления `ref` происходят до `componentDidMount()` или
  `componentDidUpdate()`

[Рефы и DOM](https://ru.reactjs.org/docs/refs-and-the-dom.html)
